/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function() {
var exports = {};
exports.id = "pages/api/speakers/[id]";
exports.ids = ["pages/api/speakers/[id]"];
exports.modules = {

/***/ "./pages/api/speakers/[id].js":
/*!************************************!*\
  !*** ./pages/api/speakers/[id].js ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ handler; }\n/* harmony export */ });\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//import {data} from '../../../SpeakerData';\n\n\n\nconst {\n  promisify\n} = __webpack_require__(/*! util */ \"util\");\n\nconst readFile = promisify((fs__WEBPACK_IMPORTED_MODULE_1___default().readFile));\nconst writeFile = promisify((fs__WEBPACK_IMPORTED_MODULE_1___default().writeFile));\n\nconst delay = ms => new Promise(resolve => {\n  setTimeout(resolve, ms);\n});\n\nasync function handler(req, res) {\n  //res.status(200).send(JSON.stringify(data, null, 2));\n  const method = req === null || req === void 0 ? void 0 : req.method;\n  const id = parseInt(req === null || req === void 0 ? void 0 : req.query.id);\n  const recordFromBody = req === null || req === void 0 ? void 0 : req.body;\n  const jsonFile = path__WEBPACK_IMPORTED_MODULE_0___default().resolve(\"./\", \"db.json\");\n\n  switch (method) {\n    case \"POST\":\n      await postMethod();\n      break;\n\n    case \"PUT\":\n      await putMethod();\n      break;\n\n    case \"DELETE\":\n      await deleteMethod();\n      break;\n\n    default:\n      res.status(501).send(`Method ${method} not implemented`);\n      console.log(`Method ${method} not implemented`);\n  }\n\n  async function putMethod() {\n    try {\n      const readFileData = await readFile(jsonFile);\n      await delay(1000);\n      const speakers = JSON.parse(readFileData).speakers;\n\n      if (!speakers) {\n        res.status(404).send(\"Error: Request failed with status code 404\");\n      } else {\n        const newSpeakersArray = speakers.map(function (rec) {\n          return rec.id == id ? recordFromBody : rec;\n        });\n        writeFile(jsonFile, JSON.stringify({\n          speakers: newSpeakersArray\n        }, null, 2));\n        res.setHeader(\"Content-Type\", \"application/json\");\n        res.status(200).send(JSON.stringify(speakers, null, 2));\n        console.log(`PUT /api/speakers/${id} status:200`);\n      }\n    } catch (e) {\n      res.status(500).send(`PUT /api/speakers/${id} status: 500 unexpected error`);\n      console.log(`PUT /api/speakers/${id} status: 200`, e);\n    }\n  }\n\n  async function postMethod() {\n    try {\n      const readFileData = await readFile(jsonFile);\n      await delay(1000);\n      const speakers = JSON.parse(readFileData).speakers;\n\n      if (!speakers) {\n        res.status(404).send(\"Error: Request failed with status code 404\");\n      } else {\n        const idNew = speakers.reduce((accumulator, currentValue) => {\n          const idCurrent = parseInt(currentValue.id);\n          return idCurrent > accumulator ? idCurrent : accumulator;\n        }, 0) + 1;\n\n        const newSpeakerRec = _objectSpread(_objectSpread({}, recordFromBody), {}, {\n          id: idNew.toString()\n        });\n\n        const newSpeakersArray = [newSpeakerRec, ...speakers];\n        writeFile(jsonFile, JSON.stringify({\n          speakers: newSpeakersArray\n        }, null, 2));\n        res.setHeader(\"Content-Type\", \"application/json\");\n        res.status(200).send(JSON.stringify(newSpeakerRec, null, 2));\n        console.log(`POST /api/speakers/${id} status:200`);\n      }\n    } catch (e) {\n      res.status(500).send(`POST /api/speakers/${id} status: 500 unexpected error`);\n      console.log(`POST /api/speakers/${id} status: 200`, e);\n    }\n  }\n\n  async function deleteMethod() {\n    try {\n      const readFileData = await readFile(jsonFile);\n      await delay(1000);\n      const speakers = JSON.parse(readFileData).speakers;\n\n      if (!speakers) {\n        res.status(404).send(\"Error: Request failed with status code 404\");\n      } else {\n        const newSpeakersArray = speakers.filter(function (rec) {\n          return rec.id != id;\n        });\n        writeFile(jsonFile, JSON.stringify({\n          speakers: newSpeakersArray\n        }, null, 2));\n        res.setHeader(\"Content-Type\", \"application/json\");\n        res.status(200).send(JSON.stringify(speakers.find(rec => rec.id == id), null, 2));\n        console.log(`DELETE /api/speakers/${id} status:200`);\n      }\n    } catch (e) {\n      res.status(500).send(`DELETE /api/speakers/${id} status: 500 unexpected error`);\n      console.log(`DELETE /api/speakers/${id} status: 200`, e);\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaWxsaWNvbi12YWxsZXktY29kZS1jYW1wLy4vcGFnZXMvYXBpL3NwZWFrZXJzL1tpZF0uanM/ODMyMyJdLCJuYW1lcyI6WyJwcm9taXNpZnkiLCJyZXF1aXJlIiwicmVhZEZpbGUiLCJmcyIsIndyaXRlRmlsZSIsImRlbGF5IiwibXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwiaWQiLCJwYXJzZUludCIsInF1ZXJ5IiwicmVjb3JkRnJvbUJvZHkiLCJib2R5IiwianNvbkZpbGUiLCJwYXRoIiwicG9zdE1ldGhvZCIsInB1dE1ldGhvZCIsImRlbGV0ZU1ldGhvZCIsInN0YXR1cyIsInNlbmQiLCJjb25zb2xlIiwibG9nIiwicmVhZEZpbGVEYXRhIiwic3BlYWtlcnMiLCJKU09OIiwicGFyc2UiLCJuZXdTcGVha2Vyc0FycmF5IiwibWFwIiwicmVjIiwic3RyaW5naWZ5Iiwic2V0SGVhZGVyIiwiZSIsImlkTmV3IiwicmVkdWNlIiwiYWNjdW11bGF0b3IiLCJjdXJyZW50VmFsdWUiLCJpZEN1cnJlbnQiLCJuZXdTcGVha2VyUmVjIiwidG9TdHJpbmciLCJmaWx0ZXIiLCJmaW5kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNO0FBQUVBO0FBQUYsSUFBZ0JDLG1CQUFPLENBQUMsa0JBQUQsQ0FBN0I7O0FBQ0EsTUFBTUMsUUFBUSxHQUFHRixTQUFTLENBQUNHLG9EQUFELENBQTFCO0FBQ0EsTUFBTUMsU0FBUyxHQUFHSixTQUFTLENBQUNHLHFEQUFELENBQTNCOztBQUNBLE1BQU1FLEtBQUssR0FBSUMsRUFBRCxJQUNaLElBQUlDLE9BQUosQ0FBYUMsT0FBRCxJQUFhO0FBQ3ZCQyxZQUFVLENBQUNELE9BQUQsRUFBVUYsRUFBVixDQUFWO0FBQ0QsQ0FGRCxDQURGOztBQUtlLGVBQWVJLE9BQWYsQ0FBdUJDLEdBQXZC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cGVha2Vycy9baWRdLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9pbXBvcnQge2RhdGF9IGZyb20gJy4uLy4uLy4uL1NwZWFrZXJEYXRhJztcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgZnMgZnJvbSBcImZzXCI7XG5cbmNvbnN0IHsgcHJvbWlzaWZ5IH0gPSByZXF1aXJlKFwidXRpbFwiKTtcbmNvbnN0IHJlYWRGaWxlID0gcHJvbWlzaWZ5KGZzLnJlYWRGaWxlKTtcbmNvbnN0IHdyaXRlRmlsZSA9IHByb21pc2lmeShmcy53cml0ZUZpbGUpO1xuY29uc3QgZGVsYXkgPSAobXMpID0+XG4gIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgc2V0VGltZW91dChyZXNvbHZlLCBtcyk7XG4gIH0pO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIC8vcmVzLnN0YXR1cygyMDApLnNlbmQoSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMikpO1xuXG4gIGNvbnN0IG1ldGhvZCA9IHJlcT8ubWV0aG9kO1xuICBjb25zdCBpZCA9IHBhcnNlSW50KHJlcT8ucXVlcnkuaWQpO1xuICBjb25zdCByZWNvcmRGcm9tQm9keSA9IHJlcT8uYm9keTtcbiAgY29uc3QganNvbkZpbGUgPSBwYXRoLnJlc29sdmUoXCIuL1wiLCBcImRiLmpzb25cIik7XG5cbiAgc3dpdGNoIChtZXRob2QpIHtcbiAgICBjYXNlIFwiUE9TVFwiOlxuICAgICAgYXdhaXQgcG9zdE1ldGhvZCgpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlBVVFwiOlxuICAgICAgYXdhaXQgcHV0TWV0aG9kKCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiREVMRVRFXCI6XG4gICAgICBhd2FpdCBkZWxldGVNZXRob2QoKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXMuc3RhdHVzKDUwMSkuc2VuZChgTWV0aG9kICR7bWV0aG9kfSBub3QgaW1wbGVtZW50ZWRgKTtcbiAgICAgIGNvbnNvbGUubG9nKGBNZXRob2QgJHttZXRob2R9IG5vdCBpbXBsZW1lbnRlZGApO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gcHV0TWV0aG9kKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZWFkRmlsZURhdGEgPSBhd2FpdCByZWFkRmlsZShqc29uRmlsZSk7XG4gICAgICBhd2FpdCBkZWxheSgxMDAwKTtcbiAgICAgIGNvbnN0IHNwZWFrZXJzID0gSlNPTi5wYXJzZShyZWFkRmlsZURhdGEpLnNwZWFrZXJzO1xuICAgICAgaWYgKCFzcGVha2Vycykge1xuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZChcIkVycm9yOiBSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlIDQwNFwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgbmV3U3BlYWtlcnNBcnJheSA9IHNwZWFrZXJzLm1hcChmdW5jdGlvbiAocmVjKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjLmlkID09IGlkID8gcmVjb3JkRnJvbUJvZHkgOiByZWM7XG4gICAgICAgICAgfSlcbiAgICAgICAgICB3cml0ZUZpbGUoanNvbkZpbGUsIEpTT04uc3RyaW5naWZ5KHtzcGVha2VyczogbmV3U3BlYWtlcnNBcnJheX0sIG51bGwsIDIpKTtcbiAgICAgICAgICByZXMuc2V0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChKU09OLnN0cmluZ2lmeShzcGVha2VycywgbnVsbCwgMikpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBQVVQgL2FwaS9zcGVha2Vycy8ke2lkfSBzdGF0dXM6MjAwYCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChgUFVUIC9hcGkvc3BlYWtlcnMvJHtpZH0gc3RhdHVzOiA1MDAgdW5leHBlY3RlZCBlcnJvcmApXG4gICAgICAgIGNvbnNvbGUubG9nKGBQVVQgL2FwaS9zcGVha2Vycy8ke2lkfSBzdGF0dXM6IDIwMGAsIGUpO1xuICAgIH1cbiAgfVxuXG4gICBhc3luYyBmdW5jdGlvbiBwb3N0TWV0aG9kKCkge1xuICAgICB0cnkge1xuICAgICAgIGNvbnN0IHJlYWRGaWxlRGF0YSA9IGF3YWl0IHJlYWRGaWxlKGpzb25GaWxlKTtcbiAgICAgICBhd2FpdCBkZWxheSgxMDAwKTtcbiAgICAgICBjb25zdCBzcGVha2VycyA9IEpTT04ucGFyc2UocmVhZEZpbGVEYXRhKS5zcGVha2VycztcbiAgICAgICBpZiAoIXNwZWFrZXJzKSB7XG4gICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZChcIkVycm9yOiBSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlIDQwNFwiKTtcbiAgICAgICB9IGVsc2Uge1xuICAgICAgICBcbiAgICAgICAgIGNvbnN0IGlkTmV3ID0gc3BlYWtlcnMucmVkdWNlKChhY2N1bXVsYXRvciwgY3VycmVudFZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgY29uc3QgaWRDdXJyZW50ID0gcGFyc2VJbnQoY3VycmVudFZhbHVlLmlkKTtcbiAgICAgICAgICAgICByZXR1cm4gaWRDdXJyZW50ID4gYWNjdW11bGF0b3IgPyBpZEN1cnJlbnQgOiBhY2N1bXVsYXRvcjtcbiAgICAgICAgIH0sMCkgKyAxO1xuXG4gICAgICAgICBjb25zdCBuZXdTcGVha2VyUmVjID0gey4uLnJlY29yZEZyb21Cb2R5LCBpZDogaWROZXcudG9TdHJpbmcoKSB9O1xuXG4gICAgICAgICBjb25zdCBuZXdTcGVha2Vyc0FycmF5ID0gW25ld1NwZWFrZXJSZWMsIC4uLnNwZWFrZXJzXTtcbiAgICAgICAgIHdyaXRlRmlsZShcbiAgICAgICAgICAganNvbkZpbGUsXG4gICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHsgc3BlYWtlcnM6IG5ld1NwZWFrZXJzQXJyYXkgfSwgbnVsbCwgMilcbiAgICAgICAgICk7XG4gICAgICAgICByZXMuc2V0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKEpTT04uc3RyaW5naWZ5KG5ld1NwZWFrZXJSZWMsIG51bGwsIDIpKTtcbiAgICAgICAgIGNvbnNvbGUubG9nKGBQT1NUIC9hcGkvc3BlYWtlcnMvJHtpZH0gc3RhdHVzOjIwMGApO1xuICAgICAgIH1cbiAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgIHJlc1xuICAgICAgICAgLnN0YXR1cyg1MDApXG4gICAgICAgICAuc2VuZChgUE9TVCAvYXBpL3NwZWFrZXJzLyR7aWR9IHN0YXR1czogNTAwIHVuZXhwZWN0ZWQgZXJyb3JgKTtcbiAgICAgICBjb25zb2xlLmxvZyhgUE9TVCAvYXBpL3NwZWFrZXJzLyR7aWR9IHN0YXR1czogMjAwYCwgZSk7XG4gICAgIH1cbiAgIH1cblxuICAgICBhc3luYyBmdW5jdGlvbiBkZWxldGVNZXRob2QoKSB7XG4gICAgICAgdHJ5IHtcbiAgICAgICAgIGNvbnN0IHJlYWRGaWxlRGF0YSA9IGF3YWl0IHJlYWRGaWxlKGpzb25GaWxlKTtcbiAgICAgICAgIGF3YWl0IGRlbGF5KDEwMDApO1xuICAgICAgICAgY29uc3Qgc3BlYWtlcnMgPSBKU09OLnBhcnNlKHJlYWRGaWxlRGF0YSkuc3BlYWtlcnM7XG4gICAgICAgICBpZiAoIXNwZWFrZXJzKSB7XG4gICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKFwiRXJyb3I6IFJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgNDA0XCIpO1xuICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgY29uc3QgbmV3U3BlYWtlcnNBcnJheSA9IHNwZWFrZXJzLmZpbHRlcihmdW5jdGlvbiAocmVjKSB7XG4gICAgICAgICAgICAgcmV0dXJuIHJlYy5pZCAhPSBpZDtcbiAgICAgICAgICAgfSk7XG4gICAgICAgICAgIHdyaXRlRmlsZShcbiAgICAgICAgICAgICBqc29uRmlsZSxcbiAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7IHNwZWFrZXJzOiBuZXdTcGVha2Vyc0FycmF5IH0sIG51bGwsIDIpXG4gICAgICAgICAgICk7XG4gICAgICAgICAgIHJlcy5zZXRIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChKU09OLnN0cmluZ2lmeShzcGVha2Vycy5maW5kKHJlYyA9PiByZWMuaWQgPT0gaWQpLCBudWxsLCAyKSk7XG4gICAgICAgICAgIGNvbnNvbGUubG9nKGBERUxFVEUgL2FwaS9zcGVha2Vycy8ke2lkfSBzdGF0dXM6MjAwYCk7XG4gICAgICAgICB9XG4gICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgcmVzXG4gICAgICAgICAgIC5zdGF0dXMoNTAwKVxuICAgICAgICAgICAuc2VuZChgREVMRVRFIC9hcGkvc3BlYWtlcnMvJHtpZH0gc3RhdHVzOiA1MDAgdW5leHBlY3RlZCBlcnJvcmApO1xuICAgICAgICAgY29uc29sZS5sb2coYERFTEVURSAvYXBpL3NwZWFrZXJzLyR7aWR9IHN0YXR1czogMjAwYCwgZSk7XG4gICAgICAgfVxuICAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/api/speakers/[id].js\n");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ (function(module) {

"use strict";
module.exports = require("fs");;

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ (function(module) {

"use strict";
module.exports = require("path");;

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ (function(module) {

"use strict";
module.exports = require("util");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
var __webpack_exports__ = (__webpack_exec__("./pages/api/speakers/[id].js"));
module.exports = __webpack_exports__;

})();